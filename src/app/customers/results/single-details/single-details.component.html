<div style="min-height: 100vh; max-height:100vh; overflow-y: auto;">
    <div class="container-fluid ">
        <div class="row navbar">
            <div class="col-md-2 d-flex align-items-center text-align-center">
                <h1 class="h1" style="text-align: center;" [routerLink]="['/']">Parking
                    Spotters</h1>
            </div>
            <div class="col-md-7">
                <div class="row">
                    <div class="col-md-3">
                        <p>Parking Check-In</p>
                        <!-- Mon,Jul 15 -->
                        <p class="fs-5">{{checkInTime| date:'EEE, MMM d'}}</p>
                    </div>
                    <div class="col-md-1">
                        <!-- <p>&nbsp;</p> -->
                        <p><mat-icon class="fs-3">arrow_right_alt</mat-icon></p>
                    </div>
                    <div class="col-md-3">
                        <p>Parking Check-Out</p>
                        <p class="fs-5">{{checkOutTime | date:'EEE, MMM d'}}</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row mt-3">
            <div class="col-md-8 d-flex flex-column flex-md-row gap-3">
                <div class="row d-flex flex-column gap-3">
                    <div class="col-md-12 p-2">
                        <div class="row">
                            <div class="col-md-2 align-content-center">
                                <img [src]="value?.property_logo[0]?.logo" alt=""
                                    style="max-width: 100%; max-height: 100%;">
                            </div>
                            <div class="col-md-10">
                                <h1 class="m-0 p-0">{{value?.tittle?value.tittle:''}}</h1>
                                <p class="m-0 p-0 d-flex text-wrap flex-row align-content-center">
                                    <span *ngFor="let star of ['0','1','2','3']; let i = index" class="filled">
                                        <mat-icon
                                            class="filled">star</mat-icon><!--  &#9733;  Unicode star character -->
                                    </span>
                                    <b>Great (960 Reviews)</b>
                                </p>
                                <p> {{value?.street}},{{value?.city}},{{value?.state}},{{value?.zipcode}}</p>
                                <div class="d-flex flex-row flex-wrap gap-3">
                                    <p class="d-flex flex-row align-items-center justify-content-center">
                                        <mat-icon>local_airport</mat-icon>
                                        <span>1.0 miles to JFK</span>
                                    </p>
                                    <p class="d-flex flex-row justify-content-center align-items-center">
                                        <mat-icon>directions_bus</mat-icon>
                                        <span>Shuttle</span>
                                    </p>
                                    <p class="d-flex flex-row justify-content-center align-items-center">
                                        <mat-icon>schedule</mat-icon>
                                        <span>Open 24/7</span>
                                    </p>
                                    <p class="flx" *ngIf="value?.property_product?.length>0">
                                        <span>
                                            <mat-icon>directions_car</mat-icon>
                                        </span>
                                        <span>
                                            Parking Types: <span
                                                *ngFor="let type of value?.property_product">{{type?.type}},
                                            </span>
                                        </span>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <mat-divider style="height: 2px;"></mat-divider>
                    <div *ngIf="value?.property_description[0]?.temporary_message" class="col-md-12"
                        style="background-color: #033552; padding:20px; color:white; border-radius: 10px;">
                        <p>Announcement from {{value?.tittle}}</p>
                        <div [innerHTML]="value?.property_description[0]?.temporary_message"></div>
                    </div>
                    <div class="col-md-12">
                        <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill"
                                    data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home"
                                    aria-selected="true">Overview</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill"
                                    data-bs-target="#pills-profile" type="button" role="tab"
                                    aria-controls="pills-profile" aria-selected="false">Amenities</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="pills-contact-tab" data-bs-toggle="pill"
                                    data-bs-target="#pills-contact" type="button" role="tab"
                                    aria-controls="pills-contact" aria-selected="false">Images</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="pills-review-tab" data-bs-toggle="pill"
                                    data-bs-target="#pills-review" type="button" role="tab" aria-controls="pills-review"
                                    aria-selected="false">Reviews</button>
                            </li>
                        </ul>
                        <div class="tab-content" id="pills-tabContent" style="min-height:40vh; max-height: 40vh;">
                            <div class="tab-pane fade show active" id="pills-home" role="tabpanel"
                                aria-labelledby="pills-home-tab" tabindex="0">
                                <div class="row"
                                    style="min-height:40vh; max-height: 40vh; overflow: auto; overflow-x: hidden;">
                                    <div class="col-md-5" *ngIf="Images.length>0">
                                        <div id="carouselExample" class="carousel slide">
                                            <div class="carousel-inner">
                                                <div class="carousel-item active">
                                                    <img src={{Images[0]?.images}} class="d-block w-100" alt="image">
                                                </div>
                                                <div class="carousel-item" *ngFor="let img of Images; let i = index">
                                                    <img src={{img?.images}} class="d-block w-100" alt="image">
                                                </div>
                                            </div>
                                            <button class="carousel-control-prev" type="button"
                                                data-bs-target="#carouselExample" data-bs-slide="prev">
                                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                <span class="visually-hidden">Previous</span>
                                            </button>
                                            <button class="carousel-control-next" type="button"
                                                data-bs-target="#carouselExample" data-bs-slide="next">
                                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                <span class="visually-hidden">Next</span>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="col-md-5">
                                        <p>Overall Rating</p>
                                        <h1 style="margin: 0px;"> Great</h1>
                                        <h3 style="margin: 0px;"> 4.0/5</h3>
                                        <p><span *ngFor="let star of ['0','1','2','3']; let i = index" class="filled">
                                                <mat-icon
                                                    class="filled">star</mat-icon><!--  &#9733;  Unicode star character -->
                                            </span>
                                            <br><span>(Based on 958 ratings)</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="pills-profile" role="tabpanel"
                                aria-labelledby="pills-profile-tab" tabindex="0">
                                <div class="amenities">
                                    <div class="row amenitie">
                                        <ng-container *ngFor="let amenity of amenities">
                                            <div class="col-md-4 amenity">
                                                <mat-icon [ngStyle]="{'color': amenity.iconColor}">{{
                                                    amenity.iconName
                                                    }}</mat-icon>
                                                {{ amenity.name }}
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="pills-contact" role="tabpanel"
                                aria-labelledby="pills-contact-tab" tabindex="0">
                                <div class="amenities">
                                    <div class="row amenities">
                                        <ng-container *ngFor="let img of Images">
                                            <div class="col-md-4">
                                                <img src={{img.images}} alt=""
                                                    style="max-width: 100%;max-height: 100%;">
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="pills-review" role="tabpanel"
                                aria-labelledby="pills-review-tab" tabindex="0">review...</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 mt-1">
                <div style="min-height: 70vh; width:fit-content; border: 0.5px solid gray;">
                    <div class="d-flex flex-row  justify-content-between align-items-center"
                        style="background-color: lightslategray; padding:10px; color:white;width: 100%; ">
                        <p>Starting from</p>
                        <p>$25.99 per day</p>
                    </div>
                    <div class="row d-flex flex-column gap-2 p-2">
                        <div class="col-md-12 d-flex flex-row justify-content-between">
                            <div class="in">
                                <span>Check In</span>
                                <input class="checkTime" type="text" #dp="bsDatepicker" [minDate]="minCheckInDate"
                                    placeholder="Check-In" bsDatepicker [ngModelOptions]="{ standalone: true }"
                                    [(ngModel)]="checkInTime" (ngModelChange)="checkOutDate()"
                                    [bsConfig]="{ adaptivePosition: true }">
                            </div>
                            <div class="out mx-2">
                                <span>Check Out</span>
                                <input class="checkTime" type="text" #dp="bsDatepicker" [minDate]="minCheckOutDate"
                                    placeholder="Check-Out" bsDatepicker [ngModelOptions]="{ standalone: true }"
                                    [(ngModel)]="checkOutTime" [bsConfig]="{ adaptivePosition: true }">
                            </div>
                        </div>
                        <div class="col-md-12 mt-2 d-flex justify-content-center">
                            <button class="btn btn-danger" style="width: 90%;" data-bs-toggle="modal"
                                data-bs-target="#exampleModal"> Reserve Parking</button>
                        </div>
                        <div class="col-md-12">
                            <button class="btn-link btn"
                                style="width: 90%; text-decoration: none; color:green">{{cancellationMessage}}</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade mt-5" id="exampleModal" data-bs-backdrop="static" data-bs-keyboard="false"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title" id="exampleModalLabel">Select Parking Times and Types</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" (click)="modalClose()"
                            aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <mat-stepper orientation="vertical" [selectedIndex]="selectedStep"
                            (selectionChange)="parkingTimesChange($event)">
                            <mat-step [completed]="isStep1Completed">
                                <ng-template matStepLabel>Parking Times <br> <span style="font-size:small">Select
                                        your
                                        parking check-In and
                                        check-Out times.</span></ng-template>

                                <ng-template matStepContent>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label for="toggleTimepicker">Check In</label>
                                            <div class="d-flex flex-row position-relative">
                                                <input class="input-" [ngxTimepicker]="toggleTimepicker"
                                                    [disableClick]="true" readonly (click)="toggleTimepicker.open()"
                                                    [format]="24" [(ngModel)]="parkingTimes.checkIn">
                                                <ngx-material-timepicker-toggle [for]="toggleTimepicker"
                                                    buttonAlign="left" class="position-absolute"
                                                    style="top:7px;"></ngx-material-timepicker-toggle>
                                                <ngx-material-timepicker #toggleTimepicker
                                                    [format]="24"></ngx-material-timepicker>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <label for="toggleTimepicker1">Check Out</label>
                                            <div class="d-flex flex-row position-relative">
                                                <input class="input-" [ngxTimepicker]="toggleTimepicker1"
                                                    [disableClick]="true" readonly (click)="toggleTimepicker1.open()"
                                                    [format]="24" [(ngModel)]="parkingTimes.checkOut">
                                                <ngx-material-timepicker-toggle [for]="toggleTimepicker1"
                                                    buttonAlign="left" class="position-absolute"
                                                    style="top:7px;"></ngx-material-timepicker-toggle>
                                                <ngx-material-timepicker #toggleTimepicker1
                                                    [format]="24"></ngx-material-timepicker>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- matStepperNext -->
                                    <button class="btn btn-danger mt-3"
                                        (click)="isStep1Completed = true; onNextStep()">Continue</button>
                                </ng-template>
                            </mat-step>
                            <mat-step>
                                <ng-template matStepLabel>Parking Type <br> <span style="font-size:small">This
                                        lot
                                        has
                                        {{this.typesOfShoes.length}}
                                        parking types,please select one.</span></ng-template>
                                <ng-template matStepContent>
                                    <mat-selection-list #shoes multiple="false" [(ngModel)]="parkingType"
                                        style="max-height: 40vh; overflow: auto;">
                                        <mat-list-option class="d-flex align-items-center"
                                            *ngFor="let shoe of typesOfShoes" [value]="shoe">
                                            <span class="d-flex flex-row justify-content-between align-item-center">
                                                <p
                                                    class="d-flex flex-row justify-content-between align-item-center gap-3">
                                                    <mat-icon>directions_car</mat-icon> {{shoe.product}}
                                                </p>
                                                <p>{{currency[value.country]?currency[value.country]:'$'}}{{shoe.dail_rate}}
                                                    per day</p>
                                            </span>
                                        </mat-list-option>
                                    </mat-selection-list>
                                    <button class="btn btn-danger mt-4 align-self-center" (click)="redirectToPayment()"
                                        [disabled]="!isStep1Completed">Proceed to
                                        Checkout</button>
                                </ng-template>
                            </mat-step>
                        </mat-stepper>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>